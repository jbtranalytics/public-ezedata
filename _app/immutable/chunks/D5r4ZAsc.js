import{o as u,a9 as x,aa as y,ab as k,B as i,R as o,ac as S,x as C,u as E,_ as b}from"./BYlZn5Gg.js";function B(e,r,a=r){var d=new WeakSet;u(e,"input",async l=>{var v=l?e.defaultValue:e.value;if(v=h(e)?t(v):v,a(v),o!==null&&d.add(o),await x(),v!==(v=r())){var f=e.selectionStart,n=e.selectionEnd;e.value=v??"",n!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(n,e.value.length))}}),(i&&e.defaultValue!==e.value||y(r)==null&&e.value)&&(a(h(e)?t(e.value):e.value),o!==null&&d.add(o)),k(()=>{var l=r();if(e===document.activeElement){var v=S??o;if(d.has(v))return}h(e)&&l===t(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const _=new Set;function V(e,r,a,d,l=d){var v=a.getAttribute("type")==="checkbox",f=e;let n=!1;if(r!==null)for(var g of r)f=f[g]??=[];f.push(a),u(a,"change",()=>{var c=a.__value;v&&(c=m(f,c,a.checked)),l(c)},()=>l(v?[]:null)),k(()=>{var c=d();if(i&&a.defaultChecked!==a.checked){n=!0;return}v?(c=c||[],a.checked=c.includes(a.__value)):a.checked=C(a.__value,c)}),E(()=>{var c=f.indexOf(a);c!==-1&&f.splice(c,1)}),_.has(f)||(_.add(f),b(()=>{f.sort((c,s)=>c.compareDocumentPosition(s)===4?-1:1),_.delete(f)})),b(()=>{if(n){var c;if(v)c=m(f,c,a.checked);else{var s=f.find(w=>w.checked);c=s?.__value}l(c)}})}function q(e,r,a=r){u(e,"change",d=>{var l=d?e.defaultChecked:e.checked;a(l)}),(i&&e.defaultChecked!==e.checked||y(r)==null)&&a(e.checked),k(()=>{var d=r();e.checked=!!d})}function m(e,r,a){for(var d=new Set,l=0;l<e.length;l+=1)e[l].checked&&d.add(e[l].__value);return a||d.delete(r),Array.from(d)}function h(e){var r=e.type;return r==="number"||r==="range"}function t(e){return e===""?null:+e}export{q as a,B as b,V as c};
