import"../chunks/DsnmJJEf.js";import{p as G,f as q,h as N,k as i,t as A,g as e,a as b,c as Q,s as v,d as o,$ as W,e as a,r as s,m as X}from"../chunks/BYlZn5Gg.js";import{d as Z,e as ee,s as I}from"../chunks/DDMNtiwy.js";import{i as R}from"../chunks/hdWpqC_S.js";import{r as S}from"../chunks/5tjEvnQD.js";import{b as $}from"../chunks/D5r4ZAsc.js";import{a as re}from"../chunks/BPD30_7i.js";import"../chunks/BlfM1jRo.js";async function M(g,P){g.key==="Enter"&&await P(g)}var ae=q('<div class="rounded-md bg-red-50 p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3></div></div></div>'),se=q('<div class="rounded-md bg-green-50 p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-green-800"> </h3></div></div></div>'),oe=X('<svg class="mr-3 -ml-1 h-5 w-5 animate-spin text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),te=q('<div class="flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8"><div class="w-full max-w-md space-y-8"><div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Create your account</h2> <p class="mt-2 text-center text-sm text-gray-600">Or <a href="/signin" class="font-medium text-indigo-600 hover:text-indigo-500">sign in to your existing account</a></p></div> <form class="mt-8 space-y-6"><div class="-space-y-px rounded-md shadow-sm"><div><label for="email" class="sr-only">Email address</label> <input id="email" name="email" type="email" autocomplete="email" required class="relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:ring-indigo-500 focus:outline-none sm:text-sm" placeholder="Email address"/></div> <div><label for="password" class="sr-only">Password</label> <input id="password" name="password" type="password" autocomplete="new-password" required class="relative block w-full appearance-none rounded-none border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:ring-indigo-500 focus:outline-none sm:text-sm" placeholder="Password (min. 6 characters)"/></div> <div><label for="confirmPassword" class="sr-only">Confirm Password</label> <input id="confirmPassword" name="confirmPassword" type="password" autocomplete="new-password" required class="relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:ring-indigo-500 focus:outline-none sm:text-sm" placeholder="Confirm password"/></div></div> <!> <!> <div><button type="submit" class="group relative flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50"><!> </button></div></form></div></div>');function pe(g,P){G(P,!0);let u=v(""),c=v(""),m=v(""),d=v(!1),l=v(""),x=v("");async function h(r){if(r.preventDefault(),!e(u)||!e(c)||!e(m)){o(l,"Please fill in all fields");return}if(e(c)!==e(m)){o(l,"Passwords do not match");return}if(e(c).length<6){o(l,"Password must be at least 6 characters long");return}o(d,!0),o(l,""),o(x,"");try{console.log("Environment check:",{PUBLIC_PROJECT_ID:void 0,PUBLIC_SUPABASE_URL:void 0,PUBLIC_SUPABASE_PUBLISHABLE_KEY:void 0});const{data:t,error:n}=await re.signUp(e(u),e(c));n?o(l,n.message,!0):(o(x,"Account created successfully! Please check your email to verify your account."),o(u,""),o(c,""),o(m,""))}catch(t){o(l,"An unexpected error occurred"),console.error("Registration error:",t)}finally{o(d,!1)}}var k=te();N(r=>{W.title="Register - EzeData"});var D=a(k),C=i(a(D),2),E=a(C),L=a(E),y=i(a(L),2);S(y),y.__keydown=[M,h],s(L);var z=i(L,2),w=i(a(z),2);S(w),w.__keydown=[M,h],s(z);var j=i(z,2),_=i(a(j),2);S(_),_.__keydown=[M,h],s(j),s(E);var H=i(E,2);{var T=r=>{var t=ae(),n=a(t),p=i(a(n),2),f=a(p),U=a(f,!0);s(f),s(p),s(n),s(t),A(()=>I(U,e(l))),b(r,t)};R(H,r=>{e(l)&&r(T)})}var K=i(H,2);{var V=r=>{var t=se(),n=a(t),p=i(a(n),2),f=a(p),U=a(f,!0);s(f),s(p),s(n),s(t),A(()=>I(U,e(x))),b(r,t)};R(K,r=>{e(x)&&r(V)})}var O=i(K,2),B=a(O),J=a(B);{var Y=r=>{var t=oe();b(r,t)};R(J,r=>{e(d)&&r(Y)})}var F=i(J);s(B),s(O),s(C),s(D),s(k),A(()=>{y.disabled=e(d),w.disabled=e(d),_.disabled=e(d),B.disabled=e(d),I(F,` ${e(d)?"Creating account...":"Create account"}`)}),ee("submit",C,h),$(y,()=>e(u),r=>o(u,r)),$(w,()=>e(c),r=>o(c,r)),$(_,()=>e(m),r=>o(m,r)),b(g,k),Q()}Z(["keydown"]);export{pe as component};
