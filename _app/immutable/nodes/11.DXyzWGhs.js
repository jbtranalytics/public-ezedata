import"../chunks/DsnmJJEf.js";import{p as R,f as M,h as U,k as o,t as E,g as s,a as y,c as W,s as m,d as i,$ as X,e as r,r as a,m as Y}from"../chunks/BYlZn5Gg.js";import{d as Z,e as ee,s as L}from"../chunks/DDMNtiwy.js";import{i as I}from"../chunks/hdWpqC_S.js";import{r as T}from"../chunks/5tjEvnQD.js";import{b as H}from"../chunks/D5r4ZAsc.js";import{s as re,a as ae}from"../chunks/Cv1_MIr9.js";import{a as se}from"../chunks/BPD30_7i.js";import{g as te}from"../chunks/CUCpT_Q-.js";import{p as oe}from"../chunks/BEWcXL-h.js";async function K(p,b){p.key==="Enter"&&await b(p)}var ie=M('<div class="rounded-md bg-red-50 p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3></div></div></div>'),de=M('<div class="rounded-md bg-green-50 p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-green-800"> </h3></div></div></div>'),le=Y('<svg class="mr-3 -ml-1 h-5 w-5 animate-spin text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),ne=M('<div class="flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8"><div class="w-full max-w-md space-y-8"><div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Sign in to your account</h2> <p class="mt-2 text-center text-sm text-gray-600">Or <a href="/register" class="font-medium text-indigo-600 hover:text-indigo-500">create a new account</a></p></div> <form class="mt-8 space-y-6"><div class="-space-y-px rounded-md shadow-sm"><div><label for="email" class="sr-only">Email address</label> <input id="email" name="email" type="email" autocomplete="email" required class="relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:ring-indigo-500 focus:outline-none sm:text-sm" placeholder="Email address"/></div> <div><label for="password" class="sr-only">Password</label> <input id="password" name="password" type="password" autocomplete="current-password" required class="relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:ring-indigo-500 focus:outline-none sm:text-sm" placeholder="Password"/></div></div> <!> <!> <div><button type="submit" class="group relative flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50"><!> </button></div></form></div></div>');function be(p,b){R(b,!0);const O=()=>ae(oe,"$page",V),[V,F]=re();let u=m(""),f=m(""),l=m(!1),c=m(""),g=m("");async function w(e){if(e.preventDefault(),!s(u)||!s(f)){i(c,"Please fill in all fields");return}i(l,!0),i(c,""),i(g,"");try{const{data:t,error:d}=await se.signIn(s(u),s(f));if(d)i(c,d.message,!0);else{i(g,"Successfully signed in!");const n=O().url.searchParams.get("redirectTo")||"/";te(n)}}catch(t){i(c,"An unexpected error occurred"),console.error("Sign in error:",t)}finally{i(l,!1)}}var _=ne();U(e=>{X.title="Sign In - EzeData"});var P=r(_),k=o(r(P),2),$=r(k),z=r($),x=o(r(z),2);T(x),x.__keydown=[K,w],a(z);var B=o(z,2),h=o(r(B),2);T(h),h.__keydown=[K,w],a(B),a($);var j=o($,2);{var G=e=>{var t=ie(),d=r(t),n=o(r(d),2),v=r(n),C=r(v,!0);a(v),a(n),a(d),a(t),E(()=>L(C,s(c))),y(e,t)};I(j,e=>{s(c)&&e(G)})}var q=o(j,2);{var J=e=>{var t=de(),d=r(t),n=o(r(d),2),v=r(n),C=r(v,!0);a(v),a(n),a(d),a(t),E(()=>L(C,s(g))),y(e,t)};I(q,e=>{s(g)&&e(J)})}var A=o(q,2),S=r(A),D=r(S);{var N=e=>{var t=le();y(e,t)};I(D,e=>{s(l)&&e(N)})}var Q=o(D);a(S),a(A),a(k),a(P),a(_),E(()=>{x.disabled=s(l),h.disabled=s(l),S.disabled=s(l),L(Q,` ${s(l)?"Signing in...":"Sign in"}`)}),ee("submit",k,w),H(x,()=>s(u),e=>i(u,e)),H(h,()=>s(f),e=>i(f,e)),y(p,_),W(),F()}Z(["keydown"]);export{be as component};
