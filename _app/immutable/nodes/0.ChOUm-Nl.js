import"../chunks/DsnmJJEf.js";import{p as D,i as P,j as C,a as o,c as z,d as g,s as B,g as Z,f as v,e as s,r,k as p,t as G,h as M,n as H,a7 as k}from"../chunks/BYlZn5Gg.js";import{o as R,a as L,s as T}from"../chunks/ChZCaD_0.js";import{s as A}from"../chunks/5tjEvnQD.js";import{d as w,s as F}from"../chunks/DDMNtiwy.js";import{i as N}from"../chunks/hdWpqC_S.js";import{s as J,a as j}from"../chunks/BPD30_7i.js";import{g as Y}from"../chunks/CUCpT_Q-.js";const K=!0,U=!0,V=async()=>({}),ca=Object.freeze(Object.defineProperty({__proto__:null,load:V,prerender:K,ssr:U},Symbol.toStringTag,{value:"Module"})),_="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8dGl0bGU+RXplRGF0YTwvdGl0bGU+CiAgPCEtLSBCYWNrZ3JvdW5kIGNpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgZmlsbD0iIzRGNDZFNSIgc3Ryb2tlPSIjMzczMEEzIiBzdHJva2Utd2lkdGg9IjIiLz4KICAKICA8IS0tIERhdGEgdmlzdWFsaXphdGlvbiBlbGVtZW50cyAtLT4KICA8IS0tIEJhciBjaGFydCByZXByZXNlbnRpbmcgZGF0YSAtLT4KICA8cmVjdCB4PSI4IiB5PSIyMCIgd2lkdGg9IjIiIGhlaWdodD0iNiIgZmlsbD0id2hpdGUiIHJ4PSIxIi8+CiAgPHJlY3QgeD0iMTEiIHk9IjE4IiB3aWR0aD0iMiIgaGVpZ2h0PSI4IiBmaWxsPSJ3aGl0ZSIgcng9IjEiLz4KICA8cmVjdCB4PSIxNCIgeT0iMTYiIHdpZHRoPSIyIiBoZWlnaHQ9IjEwIiBmaWxsPSJ3aGl0ZSIgcng9IjEiLz4KICA8cmVjdCB4PSIxNyIgeT0iMTQiIHdpZHRoPSIyIiBoZWlnaHQ9IjEyIiBmaWxsPSJ3aGl0ZSIgcng9IjEiLz4KICA8cmVjdCB4PSIyMCIgeT0iMTIiIHdpZHRoPSIyIiBoZWlnaHQ9IjE0IiBmaWxsPSJ3aGl0ZSIgcng9IjEiLz4KICAKICA8IS0tIENvbm5lY3Rpb24gbGluZXMgcmVwcmVzZW50aW5nIGRhdGEgZmxvdyAtLT4KICA8cGF0aCBkPSJNNiA3IFExNiAzIDI2IDciIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsPSJub25lIiBvcGFjaXR5PSIwLjgiLz4KICA8cGF0aCBkPSJNNiA5IFExNiA1IDI2IDkiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgb3BhY2l0eT0iMC42Ii8+CiAgCiAgPCEtLSBDZW50cmFsICJFWkUiIGZvciBFemVEYXRhIC0tPgogIDx0ZXh0IHg9IjE2IiB5PSIxMiIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjYiIGZvbnQtd2VpZ2h0PSJib2xkIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSI+RVpFPC90ZXh0Pgo8L3N2Zz4=";async function X(x,l){try{await j.signOut(),g(l,null),Y("/")}catch(t){console.error("Sign out error:",t)}}var O=v('<div class="h-8 w-20 animate-pulse rounded bg-gray-200"></div>'),Q=v('<div class="flex items-center space-x-4"><span class="text-sm text-gray-700"> </span> <button class="rounded bg-red-600 px-3 py-1 text-sm text-white transition-colors hover:bg-red-700">Sign Out</button></div>'),q=v('<div class="flex items-center space-x-4"><a href="/signin" class="text-sm font-medium text-indigo-600 hover:text-indigo-500">Sign In</a> <a href="/register" class="rounded bg-indigo-600 px-3 py-1 text-sm text-white transition-colors hover:bg-indigo-700">Register</a></div>');function $(x,l){D(l,!0);let t=B(null),I=B(!0);async function u(){try{const a=await j.getCurrentUser();g(t,a,!0)}catch(a){console.error("Error getting user:",a),g(t,null)}finally{g(I,!1)}}R(async()=>{await u();const{data:{subscription:a}}=J.auth.onAuthStateChange((e,n)=>{(e==="SIGNED_IN"||e==="SIGNED_OUT")&&g(t,n?.user||null,!0)});L(()=>{a.unsubscribe()})});var c=P(),m=C(c);{var h=a=>{var e=O();o(a,e)},f=a=>{var e=P(),n=C(e);{var S=i=>{var d=Q(),b=s(d),E=s(b);r(b);var W=p(b,2);W.__click=[X,t],r(d),G(()=>F(E,`Welcome, ${Z(t).email??""}`)),o(i,d)},y=i=>{var d=q();o(i,d)};N(n,i=>{Z(t)?i(S):i(y,!1)},!0)}o(a,e)};N(m,a=>{Z(I)?a(h):a(f,!1)})}o(x,c),z()}w(["click"]);var aa=v('<link rel="icon"/>'),ta=v('<nav class="border-b bg-white shadow-sm"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"><div class="flex h-16 justify-between"><div class="flex items-center"><a href="/" class="flex flex-shrink-0 items-center"><img class="h-8 w-8" alt="EzeData"/> <span class="ml-2 text-xl font-bold text-gray-900">EzeData</span></a></div> <div class="flex items-center space-x-6"><nav class="hidden md:flex space-x-4"><a href="/datasets" class="text-sm font-medium text-gray-700 hover:text-gray-900">Datasets</a> <a href="/categories" class="text-sm font-medium text-gray-700 hover:text-gray-900">Categories</a> <a href="/search" class="text-sm font-medium text-gray-700 hover:text-gray-900">Search</a> <a href="/api" class="text-sm font-medium text-gray-700 hover:text-gray-900">API Docs</a> <a href="/api-test" class="text-sm font-medium text-gray-700 hover:text-gray-900">API Test</a></nav> <a href="/admin" class="text-sm font-medium text-gray-700 hover:text-gray-900">Admin</a> <!></div></div></div></nav> <main><!></main>',1);function ma(x,l){var t=ta();M(y=>{var i=aa();G(()=>A(i,"href",_)),o(y,i)});var I=C(t),u=s(I),c=s(u),m=s(c),h=s(m),f=s(h);H(2),r(h),r(m);var a=p(m,2),e=p(s(a),4);$(e,{}),r(a),r(c),r(u),r(I);var n=p(I,2),S=s(n);T(S,()=>l.children??k),r(n),G(()=>A(f,"src",_)),o(x,t)}export{ma as component,ca as universal};
