import"../chunks/DsnmJJEf.js";import{o as aa}from"../chunks/ChZCaD_0.js";import{p as ea,s as E,b as ra,f as c,h as sa,a as o,c as da,t as x,d as f,g as t,$ as ia,e,r as a,i as Y,j as J,k as r}from"../chunks/BYlZn5Gg.js";import{d as oa,s as l}from"../chunks/DDMNtiwy.js";import{i as _}from"../chunks/hdWpqC_S.js";import{e as gt,i as xt}from"../chunks/CwB9K-AB.js";import{s as va}from"../chunks/5tjEvnQD.js";import{s as na}from"../chunks/C2oAtzVi.js";import{s as la,a as ca}from"../chunks/Cv1_MIr9.js";import{p as ma}from"../chunks/BEWcXL-h.js";const ua=!1,_a=!0,ga=async({params:j})=>({slug:j.slug}),Qa=Object.freeze(Object.defineProperty({__proto__:null,load:ga,prerender:ua,ssr:_a},Symbol.toStringTag,{value:"Module"}));var xa=c('<div class="flex items-center justify-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div></div>'),pa=c('<div class="bg-red-50 border border-red-200 rounded-md p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800">Error</h3> <p class="mt-1 text-sm text-red-700"> </p></div></div></div>'),fa=c('<span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800"> </span>'),ya=c('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"> </span>'),ba=c('<div class="flex flex-wrap gap-2 mb-4"></div>'),ha=c('<div><dt class="font-medium text-gray-700">Source:</dt> <dd class="text-gray-600"> </dd></div>'),wa=c('<div><dt class="font-medium text-gray-700">Update Frequency:</dt> <dd class="text-gray-600"> </dd></div>'),ka=c('<div><dt class="font-medium text-gray-700">License:</dt> <dd class="text-gray-600"> </dd></div>'),$a=c('<div><dt class="font-medium text-gray-700">Contact:</dt> <dd class="text-gray-600"> </dd></div>'),Ma=c('<div class="bg-gray-50 rounded-lg p-4 mb-4"><h3 class="text-sm font-medium text-gray-900 mb-2">Metadata</h3> <dl class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm"><!> <!> <!> <!></dl></div>'),ja=(j,h,w)=>h(`/api/datasets/${t(w).id}`),La=c('<div class="flex items-center justify-center h-32"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"></div></div>'),Pa=c(`<div class="text-center py-8"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No data entries</h3> <p class="mt-1 text-sm text-gray-500">This dataset doesn't have any data entries yet.</p></div>`),Sa=c('<div class="mt-2 text-xs text-gray-500"> </div>'),Da=c('<div class="border border-gray-200 rounded-lg p-4"><div class="flex items-start justify-between"><div class="flex-1"><h3 class="text-sm font-medium text-gray-900 mb-2"> </h3> <div class="bg-gray-50 rounded p-3 text-sm font-mono max-h-32 overflow-y-auto"><pre> </pre></div> <!></div> <div class="ml-4 text-xs text-gray-500"> </div></div></div>'),Ca=(j,h,w)=>h(t(w)-1),Ea=(j,h,w)=>h(t(w)),za=c("<button> </button>"),Aa=(j,h,w)=>h(t(w)+1),Ba=c('<div class="mt-6 flex items-center justify-between"><div class="text-sm text-gray-700"> </div> <div class="flex space-x-2"><button class="px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">Previous</button> <!> <button class="px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">Next</button></div></div>'),Fa=c('<div class="space-y-4"></div> <!>',1),Oa=c('<div class="bg-white rounded-lg shadow p-6 mb-8"><div class="flex items-start justify-between"><div class="flex-1"><h1 class="text-3xl font-bold text-gray-900 mb-2"> </h1> <p class="text-gray-600 text-lg mb-4"> </p> <div class="flex items-center space-x-4 mb-4"><!> <span class="text-sm text-gray-500"> </span> <span class="text-sm text-gray-500"> </span></div> <!> <!> <div class="text-sm text-gray-500"><div> </div> <div> </div></div></div> <div class="ml-6 flex flex-col space-y-2"><a target="_blank" class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg> View API</a> <button class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> Copy URL</button></div></div></div> <div class="bg-white rounded-lg shadow"><div class="px-6 py-4 border-b border-gray-200"><h2 class="text-lg font-medium text-gray-900">Data Entries</h2> <p class="text-sm text-gray-600">Browse the actual data in this dataset</p></div> <div class="p-6"><!></div></div>',1),Ta=c('<div class="min-h-screen bg-gray-50"><div class="mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8"><!></div></div>');function Wa(j,h){ea(h,!0);const w=()=>ca(ma,"$page",Dt),[Dt,Ct]=la();let s=E(null),Z=E(ra([])),tt=E(!0),z=E(""),k=E(1),A=E(1),at=E(!1),Et=20;aa(async()=>{await zt()});async function zt(){try{f(tt,!0),f(z,"");const p=await(await fetch("/api/datasets")).json();if(p.success){const B=p.data.find(L=>L.slug===w().params.slug);B?(f(s,B,!0),await pt(B.id)):f(z,"Dataset not found")}else f(z,p.error||"Failed to load dataset",!0)}catch(v){f(z,"Failed to load dataset"),console.error("Error loading dataset:",v)}finally{f(tt,!1)}}async function pt(v){try{f(at,!0);const p=new URLSearchParams({page:t(k).toString(),limit:Et.toString()}),L=await(await fetch(`/api/datasets/${v}/entries?${p}`)).json();L.success&&(f(Z,L.data,!0),f(A,L.pagination.totalPages,!0))}catch(p){console.error("Error loading entries:",p)}finally{f(at,!1)}}async function et(v){f(k,v,!0),t(s)&&await pt(t(s).id)}function rt(v){return new Date(v).toLocaleDateString()}function At(v){try{return JSON.parse(v||"[]")}catch{return[]}}function Bt(v){navigator.clipboard.writeText(v)}var st=Ta();sa(v=>{x(()=>ia.title=`${(t(s)?.name||"Dataset")??""} - EzeData`)});var ft=e(st),Ft=e(ft);{var Ot=v=>{var p=xa();o(v,p)},Tt=v=>{var p=Y(),B=J(p);{var L=F=>{var O=pa(),G=e(O),K=r(e(G),2),T=r(e(K),2),Q=e(T,!0);a(T),a(K),a(G),a(O),x(()=>l(Q,t(z))),o(F,O)},Rt=F=>{var O=Y(),G=J(O);{var K=T=>{var Q=Oa(),dt=J(Q),yt=e(dt),it=e(yt),ot=e(it),Ut=e(ot,!0);a(ot);var vt=r(ot,2),Vt=e(vt,!0);a(vt);var nt=r(vt,2),bt=e(nt);{var qt=n=>{var m=fa(),$=e(m,!0);a(m),x(()=>l($,t(s).category.name)),o(n,m)};_(bt,n=>{t(s).category&&n(qt)})}var lt=r(bt,2),Jt=e(lt);a(lt);var ht=r(lt,2),Nt=e(ht,!0);a(ht),a(nt);var wt=r(nt,2);{var Ht=n=>{var m=ba();gt(m,21,()=>At(t(s).tags),xt,($,R)=>{var P=ya(),y=e(P,!0);a(P),x(()=>l(y,t(R))),o($,P)}),a(m),o(n,m)};_(wt,n=>{t(s).tags&&n(Ht)})}var kt=r(wt,2);{var It=n=>{var m=Ma(),$=r(e(m),2),R=e($);{var P=d=>{var i=ha(),u=r(e(i),2),g=e(u,!0);a(u),a(i),x(()=>l(g,t(s).metadata.source)),o(d,i)};_(R,d=>{t(s).metadata.source&&d(P)})}var y=r(R,2);{var U=d=>{var i=wa(),u=r(e(i),2),g=e(u,!0);a(u),a(i),x(()=>l(g,t(s).metadata.updateFrequency)),o(d,i)};_(y,d=>{t(s).metadata.updateFrequency&&d(U)})}var V=r(y,2);{var mt=d=>{var i=ka(),u=r(e(i),2),g=e(u,!0);a(u),a(i),x(()=>l(g,t(s).metadata.license)),o(d,i)};_(V,d=>{t(s).metadata.license&&d(mt)})}var ut=r(V,2);{var S=d=>{var i=$a(),u=r(e(i),2),g=e(u,!0);a(u),a(i),x(()=>l(g,t(s).metadata.contact)),o(d,i)};_(ut,d=>{t(s).metadata.contact&&d(S)})}a($),a(m),o(n,m)};_(kt,n=>{t(s).metadata&&n(It)})}var $t=r(kt,2),ct=e($t),Gt=e(ct);a(ct);var Mt=r(ct,2),Kt=e(Mt);a(Mt),a($t),a(it);var jt=r(it,2),Lt=e(jt),Qt=r(Lt,2);Qt.__click=[ja,Bt,s],a(jt),a(yt),a(dt);var Pt=r(dt,2),St=r(e(Pt),2),Wt=e(St);{var Xt=n=>{var m=La();o(n,m)},Yt=n=>{var m=Y(),$=J(m);{var R=y=>{var U=Pa();o(y,U)},P=y=>{var U=Fa(),V=J(U);gt(V,21,()=>t(Z),xt,(S,d)=>{var i=Da(),u=e(i),g=e(u),D=e(g),W=e(D,!0);a(D);var q=r(D,2),N=e(q),M=e(N,!0);a(N),a(q);var H=r(q,2);{var _t=b=>{var C=Sa(),Zt=e(C);a(C),x(ta=>l(Zt,`Metadata: ${ta??""}`),[()=>JSON.stringify(t(d).metadata)]),o(b,C)};_(H,b=>{t(d).metadata&&b(_t)})}a(g);var X=r(g,2),I=e(X,!0);a(X),a(u),a(i),x((b,C)=>{l(W,t(d).key),l(M,b),l(I,C)},[()=>JSON.stringify(t(d).value,null,2),()=>rt(t(d).createdAt)]),o(S,i)}),a(V);var mt=r(V,2);{var ut=S=>{var d=Ba(),i=e(d),u=e(i);a(i);var g=r(i,2),D=e(g);D.__click=[Ca,et,k];var W=r(D,2);gt(W,17,()=>Array.from({length:Math.min(5,t(A))},(N,M)=>Math.max(1,t(k)-2)+M),xt,(N,M)=>{var H=Y(),_t=J(H);{var X=I=>{var b=za();b.__click=[Ea,et,M];var C=e(b,!0);a(b),x(()=>{na(b,1,`px-3 py-2 border rounded-md text-sm font-medium ${t(M)===t(k)?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`),l(C,t(M))}),o(I,b)};_(_t,I=>{t(M)<=t(A)&&I(X)})}o(N,H)});var q=r(W,2);q.__click=[Aa,et,k],a(g),a(d),x(()=>{l(u,`Showing page ${t(k)??""} of ${t(A)??""}`),D.disabled=t(k)===1,q.disabled=t(k)===t(A)}),o(S,d)};_(mt,S=>{t(A)>1&&S(ut)})}o(y,U)};_($,y=>{t(Z).length===0?y(R):y(P,!1)},!0)}o(n,m)};_(Wt,n=>{t(at)?n(Xt):n(Yt,!1)})}a(St),a(Pt),x((n,m)=>{l(Ut,t(s).name),l(Vt,t(s).description||"No description available"),l(Jt,`Version ${t(s).version??""}`),l(Nt,t(s).isPublic?"Public":"Private"),l(Gt,`Created: ${n??""}`),l(Kt,`Last Updated: ${m??""}`),va(Lt,"href",`/api/datasets/${t(s).id??""}`)},[()=>rt(t(s).createdAt),()=>rt(t(s).updatedAt)]),o(T,Q)};_(G,T=>{t(s)&&T(K)},!0)}o(F,O)};_(B,F=>{t(z)?F(L):F(Rt,!1)},!0)}o(v,p)};_(Ft,v=>{t(tt)?v(Ot):v(Tt,!1)})}a(ft),a(st),o(j,st),da(),Ct()}oa(["click"]);export{Wa as component,Qa as universal};
